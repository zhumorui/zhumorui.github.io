jQuery(document).ready(function(e){function i(i){i.each(function(){var i=e(this);e(window).scrollTop()+.5*e(window).height()>i.offset().top&&i.addClass("is-visible")}),d=!1}function n(i){i.each(function(){var i=e(this);a(i.find('.cd-image-label[data-type="modified"]'),i.find(".cd-resize-img"),"left"),a(i.find('.cd-image-label[data-type="original"]'),i.find(".cd-resize-img"),"right")}),f=!1}function o(e,i,n,o,a){e.on("mousedown vmousedown",function(d){e.addClass("draggable"),i.addClass("resizable");var f=e.outerWidth(),r=e.offset().left+f-d.pageX,u=n.offset().left,l=n.outerWidth(),m=u+10,c=u+l-f-10;e.parents().on("mousemove vmousemove",function(e){s||(s=!0,window.requestAnimationFrame?requestAnimationFrame(function(){t(e,r,f,m,c,u,l,i,o,a)}):setTimeout(function(){t(e,r,f,m,c,u,l,i,o,a)},100))}).on("mouseup vmouseup",function(){e.removeClass("draggable"),i.removeClass("resizable")}),d.preventDefault()}).on("mouseup vmouseup",function(){e.removeClass("draggable"),i.removeClass("resizable")})}function t(i,n,o,t,d,f,r,u,l,m){var c=i.pageX+n-o;c<t?c=t:c>d&&(c=d);var g=100*(c+o/2-f)/r+"%";e(".draggable").css("left",g).on("mouseup vmouseup",function(){e(this).removeClass("draggable"),u.removeClass("resizable")}),e(".resizable").css("width",g),a(m,u,"left"),a(l,u,"right"),s=!1}function a(e,i,n){"left"==n?e.offset().left+e.outerWidth()<i.offset().left+i.outerWidth()?e.removeClass("is-hidden"):e.addClass("is-hidden"):e.offset().left>i.offset().left+i.outerWidth()?e.removeClass("is-hidden"):e.addClass("is-hidden")}var s=!1,d=!1,f=!1,r=e(".cd-image-container");i(r),e(window).on("scroll",function(){d||(d=!0,window.requestAnimationFrame?requestAnimationFrame(function(){i(r)}):setTimeout(function(){i(r)},100))}),r.each(function(){var i=e(this);o(i.find(".cd-handle"),i.find(".cd-resize-img"),i,i.find('.cd-image-label[data-type="original"]'),i.find('.cd-image-label[data-type="modified"]'))}),e(window).on("resize",function(){f||(f=!0,window.requestAnimationFrame?requestAnimationFrame(function(){n(r)}):setTimeout(function(){n(r)},100))})});